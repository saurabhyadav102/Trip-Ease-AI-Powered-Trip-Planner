import { GoogleGenerativeAI } from "@google/generative-ai";
  
  const apiKey = import.meta.env.VITE_GOOGLE_GEMINI_AI_API;
  const genAI = new GoogleGenerativeAI(apiKey);
  
  const model = genAI.getGenerativeModel({
    model: "gemini-2.0-flash",
  });
  
  const generationConfig = {
    temperature: 1,
    topP: 0.95,
    topK: 40,
    maxOutputTokens: 8192,
    responseMimeType: "application/json",
  };
  
 
  export  const chatSession = model.startChat({
      generationConfig,
      history: [
        {
          role: "user",
          parts: [
            {text: "Generate travel plan for location:las vegas for 3 days for couple with a cheap budget, Give me a hotels options list with HotelName ,hotel address, price ,hotel image url gei coordinates ,rating ,descriptions and suggest itinerary with placename ,place details, place image url,geo coordinates ,ticket pricing rating ,time travel each of the location for  3 days with each day plan with best time to visit in json format"},
          ],
        },
        {
          role: "model",
          parts: [
            {text: "Okay, here's a JSON format response containing a 3-day budget-friendly Las Vegas itinerary for a couple, along with hotel options and details about each location.\n\n```json\n{\n  \"tripName\": \"Budget-Friendly Las Vegas Getaway for Couples (3 Days)\",\n  \"budget\": \"Cheap\",\n  \"travelers\": \"Couple\",\n  \"destination\": \"Las Vegas, Nevada\",\n  \"hotels\": [\n    {\n      \"hotelName\": \"Circus Circus Hotel & Casino\",\n      \"hotelAddress\": \"2880 S Las Vegas Blvd, Las Vegas, NV 89109\",\n      \"price\": \"$40 - $80 per night (average)\",\n      \"hotelImageUrl\": \"https://www.mgmresorts.com/content/dam/MGM/circus-circus/property-features/hotel/circus-circus-hotel-tower-room-exterior-night.adapt.768.1280.jpg\",\n      \"geoCoordinates\": {\n        \"latitude\": 36.1253,\n        \"longitude\": -115.1658\n      },\n      \"rating\": 3.5,\n      \"description\": \"A classic Vegas hotel with affordable rates, a circus theme, and the Adventuredome indoor theme park.  Expect basic accommodations but plenty of entertainment options.\"\n    },\n    {\n      \"hotelName\": \"Excalibur Hotel & Casino\",\n      \"hotelAddress\": \"3850 S Las Vegas Blvd, Las Vegas, NV 89109\",\n      \"price\": \"$50 - $90 per night (average)\",\n      \"hotelImageUrl\": \"https://www.mgmresorts.com/content/dam/MGM/excalibur/property-features/hotel/excalibur-hotel-exterior-night.adapt.768.1280.jpg\",\n      \"geoCoordinates\": {\n        \"latitude\": 36.0983,\n        \"longitude\": -115.1742\n      },\n      \"rating\": 4.0,\n      \"description\": \"A medieval-themed hotel on the south end of the Strip. Offers relatively affordable rooms and a variety of dining and entertainment options.\"\n    },\n    {\n      \"hotelName\": \"Luxor Hotel & Casino\",\n      \"hotelAddress\": \"3900 S Las Vegas Blvd, Las Vegas, NV 89119\",\n      \"price\": \"$60 - $100 per night (average)\",\n      \"hotelImageUrl\": \"https://www.mgmresorts.com/content/dam/MGM/luxor/property-features/hotel/luxor-hotel-exterior-night-adapt.768.1280.jpg\",\n      \"geoCoordinates\": {\n        \"latitude\": 36.0955,\n        \"longitude\": -115.1759\n      },\n      \"rating\": 4.0,\n      \"description\": \"Iconic pyramid-shaped hotel. Offers unique rooms and a variety of attractions. Can sometimes find good deals, especially during off-peak seasons.\"\n    }\n  ],\n  \"itinerary\": {\n    \"day1\": {\n      \"theme\": \"South Strip Exploration & Free Attractions\",\n      \"bestTimeToVisit\": \"Morning and Evening\",\n      \"locations\": [\n        {\n          \"placeName\": \"Welcome to Las Vegas Sign\",\n          \"placeDetails\": \"Iconic sign for photos. Free.\",\n          \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/4/4f/Welcome_to_Las_Vegas_sign.jpg/1280px-Welcome_to_Las_Vegas_sign.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.0828,\n            \"longitude\": -115.1731\n          },\n          \"ticketPricing\": \"Free\",\n          \"rating\": 4.5,\n          \"timeTravel\": \"30-60 minutes\"\n        },\n        {\n          \"placeName\": \"Bellagio Conservatory & Botanical Garden\",\n          \"placeDetails\": \"Stunning seasonal floral displays.  Free.\",\n          \"placeImageUrl\": \"https://www.bellagio.com/content/dam/MGM/bellagio/entertainment/conservatory-botanical-garden/bellagio-conservatory-garden-chinese-new-year-2024.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1125,\n            \"longitude\": -115.1742\n          },\n          \"ticketPricing\": \"Free\",\n          \"rating\": 5.0,\n          \"timeTravel\": \"1-2 hours\"\n        },\n        {\n          \"placeName\": \"Bellagio Fountains\",\n          \"placeDetails\": \"Free water show synchronized to music.  Watch from the Strip.\",\n          \"placeImageUrl\": \"https://www.vegas.com/wp/wp-content/uploads/2023/05/bellagio-fountains.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1128,\n            \"longitude\": -115.1740\n          },\n          \"ticketPricing\": \"Free\",\n          \"rating\": 5.0,\n          \"timeTravel\": \"30 minutes (for one show)\"\n        },\n        {\n          \"placeName\": \"High Roller Observation Wheel (Optional - Budget permitting)\",\n          \"placeDetails\": \"Large Ferris wheel with great views of the city.\",\n          \"placeImageUrl\": \"https://www.caesars.com/content/dam/caesars/las-vegas/things-to-do/attractions/high-roller/overview/clv-highroller-overview-exterior-hero-16x9.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1146,\n            \"longitude\": -115.1661\n          },\n          \"ticketPricing\": \"$25 - $40 per person (depending on time of day)\",\n          \"rating\": 4.5,\n          \"timeTravel\": \"1 hour (ride duration)\"\n        }\n      ]\n    },\n    \"day2\": {\n      \"theme\": \"Downtown Las Vegas & Fremont Street Experience\",\n      \"bestTimeToVisit\": \"Afternoon and Evening\",\n      \"locations\": [\n        {\n          \"placeName\": \"Fremont Street Experience\",\n          \"placeDetails\": \"Light show on a giant canopy.  Street performers, shops, and casinos. Free to walk around.\",\n          \"placeImageUrl\": \"https://fremontstreetexperience.com/wp-content/uploads/2023/08/FSE_Homepage_Hero_2560x1440_compressed.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1703,\n            \"longitude\": -115.1422\n          },\n          \"ticketPricing\": \"Free (some attractions within Fremont Street Experience may cost extra)\",\n          \"rating\": 4.5,\n          \"timeTravel\": \"2-3 hours\"\n        },\n        {\n          \"placeName\": \"SlotZilla Zip Line\",\n          \"placeDetails\": \"Zip line over Fremont Street. Not cheap, but a unique experience if you can swing it.\",\n          \"placeImageUrl\": \"https://fremontstreetexperience.com/wp-content/uploads/2023/08/slotzilla_homepage_1920x1080_compressed.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1704,\n            \"longitude\": -115.1425\n          },\n          \"ticketPricing\": \"$39-$59 per person\",\n          \"rating\": 4.0,\n          \"timeTravel\": \"1 hour (including wait time)\"\n        },\n        {\n          \"placeName\": \"Mob Museum\",\n          \"placeDetails\": \"Museum about the history of organized crime.  Informative and engaging.\",\n          \"placeImageUrl\": \"https://themobmuseum.org/wp-content/uploads/2024/05/MM_2024_NewExhibit_ExteriorView_700px.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1699,\n            \"longitude\": -115.1448\n          },\n          \"ticketPricing\": \"$31.95 per person\",\n          \"rating\": 4.5,\n          \"timeTravel\": \"2-3 hours\"\n        },\n           {\n          \"placeName\": \"Container Park\",\n          \"placeDetails\": \"Unique shopping and dining area made from shipping containers. Free to enter.\",\n          \"placeImageUrl\": \"https://vegasexperience.com/wp-content/uploads/2013/11/container-park-vegas.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1688,\n            \"longitude\": -115.1395\n          },\n          \"ticketPricing\": \"Free\",\n          \"rating\": 4.0,\n          \"timeTravel\": \"1-2 hours\"\n        }\n      ]\n    },\n    \"day3\": {\n      \"theme\": \"Hoover Dam and Lake Mead (Day Trip)\",\n      \"bestTimeToVisit\": \"Morning\",\n      \"locations\": [\n        {\n          \"placeName\": \"Hoover Dam\",\n          \"placeDetails\": \"Marvel at the iconic Hoover Dam. Consider a tour (some are free). Parking fees apply.\",\n          \"placeImageUrl\": \"https://www.usbr.gov/lc/hooverdam/images/Gallery/overview2_lg.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.0157,\n            \"longitude\": -114.7372\n          },\n          \"ticketPricing\": \"$10 - $30 per person (for tours). Parking is $10.\",\n          \"rating\": 4.5,\n          \"timeTravel\": \"4-6 hours (including travel time to/from Las Vegas)\"\n        },\n        {\n          \"placeName\": \"Lake Mead National Recreation Area\",\n          \"placeDetails\": \"Explore the scenic Lake Mead. Hiking, picnicking, and water activities (if in season).\",\n          \"placeImageUrl\": \"https://www.nps.gov/lake/planyourvisit/images/LakeMeadatSunset.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.2364,\n            \"longitude\": -114.4753\n          },\n          \"ticketPricing\": \"$25 per vehicle entrance fee (good for 7 days).\",\n          \"rating\": 4.0,\n          \"timeTravel"},
          ],
        },
      ],
    });
  
  